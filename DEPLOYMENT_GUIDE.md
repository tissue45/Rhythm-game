# ğŸš€ ë°°í¬ ê°€ì´ë“œ

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ**
- âœ… `.env` - ë¡œì»¬ ê°œë°œ í™˜ê²½ìš©
- âœ… `.env.production` - ë°°í¬ í™˜ê²½ìš©
- âœ… `UnityLoginPage.tsx` - í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
- âœ… `PaymentSuccessPage.tsx` - í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
- âœ… `unity_auth_server.js` - PORT í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©

---

## ğŸ“‹ ë°°í¬ ìˆœì„œ

### 1ï¸âƒ£ **ë°±ì—”ë“œ ì„œë²„ ë°°í¬ (Render.com)**

#### A. Render.com ê³„ì • ìƒì„±
1. https://render.com ì ‘ì†
2. GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

#### B. ìƒˆ Web Service ìƒì„±
1. Dashboard â†’ "New +" â†’ "Web Service"
2. GitHub ì €ì¥ì†Œ ì—°ê²°
3. ì„¤ì •:
   - **Name**: `stepup-auth-server`
   - **Root Directory**: `.` (ë£¨íŠ¸)
   - **Environment**: `Node`
   - **Build Command**: `npm install`
   - **Start Command**: `node unity_auth_server.js`
   - **Plan**: Free

#### C. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
Render ëŒ€ì‹œë³´ë“œì—ì„œ Environment Variables ì¶”ê°€:
```
SUPABASE_URL=https://vraxfilfgphvluiokwlc.supabase.co
SUPABASE_KEY=sb_publishable_pxwOmNrEqrVR6mVQwGQ-0Q_U72jXSYQ
TOSS_SECRET_KEY=test_sk_zXLkKEypNArWmo50nX3lmeaxYG5R
```

#### D. ë°°í¬ URL í™•ì¸
ë°°í¬ ì™„ë£Œ í›„ URL í™•ì¸ (ì˜ˆì‹œ):
```
https://stepup-auth-server.onrender.com
```

---

### 2ï¸âƒ£ **í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ (Vercel)**

#### A. Vercel ê³„ì • ìƒì„±
1. https://vercel.com ì ‘ì†
2. GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

#### B. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
1. "Add New..." â†’ "Project"
2. GitHub ì €ì¥ì†Œ import
3. ì„¤ì •:
   - **Framework Preset**: Vite
   - **Root Directory**: `Frontend`
   - **Build Command**: `npm run build`
   - **Output Directory**: `dist`

#### C. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
Vercel ëŒ€ì‹œë³´ë“œì—ì„œ Environment Variables ì¶”ê°€:
```
VITE_SUPABASE_URL=https://vraxfilfgphvluiokwlc.supabase.co
VITE_SUPABASE_ANON_KEY=sb_publishable_pxwOmNrEqrVR6mVQwGQ-0Q_U72jXSYQ
VITE_API_URL=https://stepup-auth-server.onrender.com
VITE_TOSS_CLIENT_KEY=test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq
```

**âš ï¸ ì¤‘ìš”**: `VITE_API_URL`ì— Renderì—ì„œ ë°°í¬í•œ ë°±ì—”ë“œ URLì„ ì…ë ¥í•˜ì„¸ìš”!

#### D. ë°°í¬ URL í™•ì¸
ë°°í¬ ì™„ë£Œ í›„ URL í™•ì¸ (ì˜ˆì‹œ):
```
https://stepup-rhythm.vercel.app
```

---

### 3ï¸âƒ£ **CORS ì„¤ì • ì—…ë°ì´íŠ¸**

ë°°í¬ í›„ `unity_auth_server.js`ì˜ CORS ì„¤ì •ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤:

```javascript
// í˜„ì¬ (ëª¨ë“  ì¶œì²˜ í—ˆìš©)
app.use(cors());

// ë°°í¬ í›„ (íŠ¹ì • ì¶œì²˜ë§Œ í—ˆìš© - ë³´ì•ˆ ê°•í™”)
app.use(cors({
    origin: [
        'http://localhost:5173',  // ë¡œì»¬ ê°œë°œ
        'https://stepup-rhythm.vercel.app',  // ë°°í¬ëœ í”„ë¡ íŠ¸ì—”ë“œ
        'https://stepup-rhythm.netlify.app'  // ë˜ëŠ” Netlify
    ],
    credentials: true
}));
```

---

## ğŸ§ª ë°°í¬ í›„ í…ŒìŠ¤íŠ¸

### 1. **ë°±ì—”ë“œ Health Check**
```bash
curl https://stepup-auth-server.onrender.com/api/health
```

ì˜ˆìƒ ì‘ë‹µ:
```json
{
  "status": "OK",
  "timestamp": "2026-01-22T..."
}
```

### 2. **í”„ë¡ íŠ¸ì—”ë“œ ì ‘ì†**
ë¸Œë¼ìš°ì €ì—ì„œ ë°°í¬ëœ URL ì ‘ì†:
```
https://stepup-rhythm.vercel.app
```

### 3. **ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸**
1. Unity ê²Œì„ì—ì„œ LOGIN ë²„íŠ¼ í´ë¦­
2. ë¸Œë¼ìš°ì €ê°€ ì—´ë¦¬ê³  ë¡œê·¸ì¸ í˜ì´ì§€ í‘œì‹œ
3. í…ŒìŠ¤íŠ¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸:
   - Email: `test@test.com`
   - Password: `test123!`
4. ë¡œê·¸ì¸ ì„±ê³µ ë©”ì‹œì§€ í™•ì¸
5. Unityì—ì„œ ì‚¬ìš©ì ì •ë³´ í‘œì‹œ í™•ì¸

### 4. **ê²°ì œ í…ŒìŠ¤íŠ¸**
1. SHOP ë²„íŠ¼ í´ë¦­
2. ì½”ì¸ íŒ¨í‚¤ì§€ ì„ íƒ
3. ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ
4. í…ŒìŠ¤íŠ¸ ê²°ì œ ì§„í–‰
5. ê²°ì œ ì„±ê³µ í›„ ì½”ì¸ ì¦ê°€ í™•ì¸

### 5. **ëª¨ë°”ì¼ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸**
1. í°ì—ì„œ QR ì½”ë“œ ìŠ¤ìº”
2. ì»¨íŠ¸ë¡¤ëŸ¬ í˜ì´ì§€ ì ‘ì† í™•ì¸
3. í‹¸íŠ¸/ì‰ì´í¬ ë™ì‘ í™•ì¸
4. Unity ê²Œì„ì—ì„œ ì…ë ¥ ë°˜ì˜ í™•ì¸

---

## ğŸ”§ Unity ì„¤ì • ì—…ë°ì´íŠ¸

### LoginManager.cs
```csharp
// ë°°í¬ëœ ë°±ì—”ë“œ URLë¡œ ë³€ê²½
private string backendApiUrl = "https://stepup-auth-server.onrender.com";
```

### NetworkManager.cs
Socket.IO ì„œë²„ URLì€ ì´ë¯¸ Renderì— ë°°í¬ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë³€ê²½ ë¶ˆí•„ìš”:
```csharp
// ì´ë¯¸ ë°°í¬ëœ Socket.IO ì„œë²„ ì‚¬ìš©
private string socketServerUrl = "https://rhythm-game-website.onrender.com";
```

---

## ğŸ“Š ë°°í¬ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì‚¬ìš©ì ë””ë°”ì´ìŠ¤                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Unity ê²Œì„    â”‚         â”‚ í° (QR)      â”‚             â”‚
â”‚  â”‚ (ë¡œì»¬ PC)     â”‚         â”‚              â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         â”‚                        â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                        â”‚
          â”‚ HTTP                   â”‚ WebSocket
          â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ë°°í¬ëœ ì„œë¹„ìŠ¤                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ React ì›¹ (Vercel)     â”‚  â”‚ Socket.IO (Render)   â”‚    â”‚
â”‚  â”‚ stepup-rhythm        â”‚  â”‚ rhythm-game-website  â”‚    â”‚
â”‚  â”‚ .vercel.app          â”‚  â”‚ .onrender.com        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚             â”‚                                           â”‚
â”‚             â”‚ HTTP API                                  â”‚
â”‚             â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ Auth Server (Render) â”‚                              â”‚
â”‚  â”‚ stepup-auth-server   â”‚                              â”‚
â”‚  â”‚ .onrender.com        â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚             â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Database API
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Supabase                             â”‚
â”‚  - users (ì‚¬ìš©ì ì •ë³´)                                    â”‚
â”‚  - ranking (ë­í‚¹ ë°ì´í„°)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „
- [x] `.env` íŒŒì¼ ìƒì„±
- [x] `.env.production` íŒŒì¼ ìƒì„±
- [x] `UnityLoginPage.tsx` í™˜ê²½ ë³€ìˆ˜ ì ìš©
- [x] `PaymentSuccessPage.tsx` í™˜ê²½ ë³€ìˆ˜ ì ìš©
- [x] `unity_auth_server.js` PORT í™˜ê²½ ë³€ìˆ˜ ì ìš©

### ë°°í¬ ì¤‘
- [ ] Render.comì— ë°±ì—”ë“œ ë°°í¬
- [ ] Render í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] Vercelì— í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
- [ ] Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] CORS ì„¤ì • ì—…ë°ì´íŠ¸

### ë°°í¬ í›„
- [ ] ë°±ì—”ë“œ Health Check í…ŒìŠ¤íŠ¸
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ì ‘ì† í…ŒìŠ¤íŠ¸
- [ ] Unity ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- [ ] ê²°ì œ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
- [ ] ëª¨ë°”ì¼ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸
- [ ] ë­í‚¹ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸

---

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### 1. "Failed to fetch" ì—ëŸ¬
**ì›ì¸**: CORS ì„¤ì • ë¬¸ì œ
**í•´ê²°**: `unity_auth_server.js`ì˜ CORS ì„¤ì •ì— ë°°í¬ëœ í”„ë¡ íŠ¸ì—”ë“œ URL ì¶”ê°€

### 2. í™˜ê²½ ë³€ìˆ˜ê°€ ì ìš©ë˜ì§€ ì•ŠìŒ
**ì›ì¸**: Vercel/Renderì—ì„œ í™˜ê²½ ë³€ìˆ˜ ë¯¸ì„¤ì •
**í•´ê²°**: ëŒ€ì‹œë³´ë“œì—ì„œ í™˜ê²½ ë³€ìˆ˜ ì¬í™•ì¸ ë° ì¬ë°°í¬

### 3. Render ì„œë²„ê°€ sleep ìƒíƒœ
**ì›ì¸**: Free í”Œëœì€ 15ë¶„ ë¹„í™œì„± ì‹œ sleep
**í•´ê²°**: ì²« ìš”ì²­ ì‹œ 20-30ì´ˆ ëŒ€ê¸° (ìë™ìœ¼ë¡œ ê¹¨ì–´ë‚¨)

### 4. ëª¨ë°”ì¼ ì»¨íŠ¸ë¡¤ëŸ¬ ì—°ê²° ì•ˆ ë¨
**ì›ì¸**: Socket.IO ì„œë²„ URL ë¬¸ì œ
**í•´ê²°**: `ControllerPage.tsx`ì—ì„œ Socket.IO URL í™•ì¸

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **Render.com ë°°í¬**: ë°±ì—”ë“œ ì„œë²„ ë°°í¬
2. **Vercel ë°°í¬**: í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
3. **í…ŒìŠ¤íŠ¸**: ëª¨ë“  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
4. **Unity ì—…ë°ì´íŠ¸**: ë°°í¬ëœ URLë¡œ ë³€ê²½
5. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**: READMEì— ë°°í¬ URL ì¶”ê°€

---

**ë°°í¬ ì¤€ë¹„ ì™„ë£Œ! ğŸ‰**
